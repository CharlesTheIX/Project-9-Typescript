import "@/styles/globals.scss";
import type { Metadata } from "next";
import Header from "@/components/Misc/Header";
import Footer from "@/components/Misc/Footer";
import { ClerkProvider } from "@clerk/nextjs";
import CookieBanner from "@/components/Banners/CookieBanner";
import { UserContextProvider } from "@/contexts/userContext";
import { ToastContextProvider } from "@/contexts/toastContext";
import { ThemeContextProvider } from "@/contexts/themeContext";
import { CookieContextProvider } from "@/contexts/cookieContext";
import UserControls from "@/components/Misc/UserControls";

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

type Props = {
  children: React.ReactNode;
};

const RootLayout: React.FC<Readonly<Props>> = (props: Props) => {
  const { children } = props;

  return (
    <html lang="en-gb">
      <body className={`antialiased min-h-screen flex flex-col gap-0 justify-between items-stretch`}>
        <ClerkProvider>
          <CookieContextProvider>
            <ThemeContextProvider>
              <ToastContextProvider>
                <UserContextProvider>
                  <Header />

                  {children}

                  <Footer />

                  <UserControls />
                  <CookieBanner />
                </UserContextProvider>
              </ToastContextProvider>
            </ThemeContextProvider>
          </CookieContextProvider>
        </ClerkProvider>
      </body>
    </html>
  );
};

export default RootLayout;
